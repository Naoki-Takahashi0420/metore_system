# メニュー管理完全ガイド

## メニューカテゴリとは

メニューカテゴリは、施術メニューを分類するためのグループです。
例：「視力回復トレーニング」「目元ケア」「カウンセリング」など

### カテゴリの役割
- メニューを整理して管理しやすくする
- 予約画面でメニューをカテゴリごとに表示
- 顧客がメニューを選びやすくなる

## メニューカテゴリの管理

### カテゴリ一覧の確認
1. サイドバー「メニュー管理」→「メニューカテゴリ」をクリック
2. 登録されているカテゴリの一覧が表示されます
3. カテゴリ名、表示順、有効/無効が一覧で確認できます

### 新しいカテゴリの追加
1. メニューカテゴリ画面で右上の「新規作成」ボタン
2. 以下の項目を入力：
   - **店舗**: カテゴリを作成する店舗を選択
   - **カテゴリ名**: わかりやすい名称（例：視力回復トレーニング）
   - **説明**: カテゴリの説明（任意）
   - **表示順**: 数字が小さいほど上位に表示
   - **カテゴリ画像**: カテゴリを表すイメージ画像（任意）
   - **有効/無効**: ONにすると顧客の予約画面に表示
3. 「作成」ボタンをクリック

### カテゴリの編集
1. カテゴリ一覧で編集したいカテゴリの行をクリック
2. 「編集」ボタンをクリック
3. 内容を修正して「保存」

### カテゴリの削除
1. カテゴリ一覧で削除したいカテゴリの行をクリック
2. 「削除」ボタンをクリック
3. 確認ダイアログで「削除」

**⚠️ 注意**: カテゴリに紐づくメニューがある場合は削除できません

---

## メニュー管理（詳細版）

### メニュー一覧の確認
1. サイドバー「メニュー管理」→「メニュー」をクリック
2. 登録されているメニューの一覧が表示されます
3. フィルター機能で以下の条件で絞り込み可能：
   - 店舗
   - カテゴリ
   - メニュータイプ（通常/サブスク/オプション）
   - 有効/無効

### 新しいメニューの追加（通常メニュー）

#### ステップ1: 基本情報の入力
1. メニュー画面で右上の「新規作成」ボタン
2. 基本情報を入力：
   - **店舗**: メニューを提供する店舗
   - **メニュー名**: わかりやすい名称（例：目元リフトアップ80分コース）
   - **カテゴリー**: メニューカテゴリを選択（先に店舗を選択してください）
   - **説明**: メニューの詳細説明
   - **メニュー画像**: イメージ画像をアップロード（任意）

#### ステップ2: メニュータイプを選択
- **サブスクリプションメニューとして提供**: OFFのまま（通常メニューの場合）

#### ステップ3: 料金・時間設定
- **料金**: 施術料金（税込）
- **所要時間**: 15分刻みで選択（15分〜180分）
- **オンライン予約可能**: ONにすると顧客が自分で予約できる
- **有効**: ONにすると予約時に選択可能になる

#### ステップ4: 詳細設定（任意）
- **表示順**: 数字が小さいほど上位に表示
- **予約時の注意事項**: 顧客に表示される注意書き
- **スタッフ向けメモ**: スタッフのみが見られるメモ

3. 「作成」ボタンをクリック

### サブスクリプションメニューの作成

#### サブスクメニューとは
月額料金で契約し、月間の利用回数上限内で何度でも施術を受けられるメニューです。

#### 作成手順
1. 基本情報を入力（通常メニューと同じ）
2. **「サブスクリプションメニューとして提供」をON**にする
3. サブスクリプション料金設定：
   - **月額料金**: 毎月の支払額
   - **契約期間**: 何ヶ月契約か（例：12ヶ月）
   - **月間利用回数上限**: 月に何回まで利用可能か（例：4回）
   - **所要時間**: 1回あたりの施術時間
4. 「作成」ボタンをクリック

**💡 ポイント**:
- サブスクメニューは月額制なので、通常の「料金」は自動的に0円になります
- 月間利用回数を超えると、その月は予約できなくなります

### オプションメニューの作成

#### オプションメニューとは
メインメニューに追加できるオプションサービスです。
例：「目元集中ケア追加 +30分」「ヘッドマッサージ追加」など

#### 作成手順
1. 基本情報を入力
2. メニュータイプで「通常メニュー」を選択
3. **「オプションメニュー」をON**にする
4. 料金設定：
   - **追加料金**: オプションの追加料金
   - **追加時間**: オプションで増える時間
5. 「作成」ボタンをクリック

### メニューの編集
1. メニュー一覧で編集したいメニューの行をクリック
2. 「編集」ボタンをクリック
3. 内容を修正して「保存」

### メニューの有効/無効切り替え
- 「有効」をOFFにすると、予約画面に表示されなくなります
- 既存の予約には影響しません
- 季節メニューなど一時的に提供しないメニューに便利です

### メニューの削除
1. メニュー一覧で削除したいメニューの行をクリック
2. 「削除」ボタンをクリック
3. 確認ダイアログで「削除」

**⚠️ 注意**:
- 既に予約や契約があるメニューは削除できない場合があります
- 削除ではなく「無効化」を推奨します

---

## メニューの活用方法

### 予約時のメニュー選択
1. 予約作成時にメニューを選択
2. オプションメニューがあれば追加できます
3. サブスク契約がある顧客は、サブスクメニューを選択すると利用回数が消費されます

### メニューの並び順
- 「表示順」の数字が小さいほど上に表示されます
- 人気メニューを上位に配置すると予約しやすくなります

### メニュー画像の推奨サイズ
- 推奨: 1920×1080ピクセル（16:9）
- ファイル形式: JPEG, PNG, GIF, WebP
- 自動的にリサイズされます

---

## よくある質問

**Q: カテゴリとメニューの違いは？**
A: カテゴリは「視力回復トレーニング」などの大分類、メニューは「目元リフトアップ80分コース」など具体的な施術内容です。

**Q: カテゴリを削除できません**
A: そのカテゴリに紐づくメニューがある場合は削除できません。先にメニューを別カテゴリに移動するか削除してください。

**Q: メニューの表示順を変えたい**
A: 各メニューの「表示順」の数字を変更してください。数字が小さいほど上位に表示されます。

**Q: サブスクメニューの月間利用回数を変更したい**
A: メニュー編集画面で「月間利用回数上限」を変更できます。既存契約には影響しません。

**Q: オプションメニューだけを予約できますか？**
A: いいえ、オプションメニューは必ずメインメニューと一緒に予約する必要があります。

**Q: メニューを非表示にしたいが削除したくない**
A: 「有効」をOFFにしてください。予約画面には表示されなくなりますが、データは残ります。

**Q: 店舗ごとにメニューを分けられますか？**
A: はい、メニュー作成時に店舗を選択するため、店舗ごとに異なるメニューを設定できます。
